(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{474:(e,t,i)=>{Promise.resolve().then(i.bind(i,1758))},1758:(e,t,i)=>{"use strict";i.d(t,{default:()=>l});var r=i(6658),a=i(8209),n=i(1999),s=i.n(n);function l(e){let{product:t}=e,{addToCart:i}=(0,a._)();return(0,r.jsxs)("main",{style:{padding:"2rem"},children:[(0,r.jsx)("h1",{children:t.name}),(0,r.jsx)("img",{src:t.image,alt:t.name,style:{marginTop:"1rem",width:"200px",height:"200px",objectFit:"cover"}}),(0,r.jsxs)("p",{style:{fontSize:"1.2rem"},children:["$",t.price.toFixed(2)]}),(0,r.jsx)("p",{children:t.description}),(0,r.jsx)("button",{onClick:()=>i(t),style:{marginTop:"1rem"},children:"加入購物車"}),(0,r.jsx)("br",{}),(0,r.jsx)(s(),{href:"/",style:{display:"inline-block",marginTop:"1rem"},children:"\uD83D\uDD19 回首頁"})]})}},8209:(e,t,i)=>{"use strict";i.d(t,{CartProvider:()=>s,_:()=>l});var r=i(6658),a=i(9242);let n=(0,a.createContext)();function s(e){let{children:t}=e,[i,s]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&s(JSON.parse(e))},[]),(0,a.useEffect)(()=>{console.log("\uD83E\uDDFA 購物車更新:",i),localStorage.setItem("cart",JSON.stringify(i))},[i]),(0,r.jsx)(n.Provider,{value:{cart:i,addToCart:e=>{s(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:e=>{s(t=>t.filter(t=>t.id!==e))},increaseQty:e=>{s(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decreaseQty:e=>{s(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t).filter(e=>e.quantity>0))},clearCart:()=>s([])},children:t})}let l=()=>(0,a.useContext)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[999,773,261,358],()=>t(474)),_N_E=e.O()}]);